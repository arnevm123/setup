- name: Enable Copr repository
  become: true
  ansible.builtin.command: dnf copr enable -y erikreider/SwayNotificationCenter
  when: ansible_pkg_mgr == 'dnf'
  changed_when: true

- name: Install applications used for sway setup
  become: true
  ansible.builtin.package:
    name:
      - sway
      - fuzzel
      - blueman
      - pulseaudio-utils
      - network-manager-applet
      - kanshi
      - thunar
      - wl-mirror
      - waybar
      - wl-clipboard
      - mpc
      - mpv
      - grim
      - slurp
      - light
      - ncmpcpp
      - pavucontrol
      - swaylock
      - swaybg
      - wdisplays
      - '{{ "mako" if ansible_pkg_mgr != "apt" else "mako-notifier" }}'
      - '{{ "SwayNotificationCenter" if ansible_pkg_mgr != "apt" else "sway-notification-center" }}'
      - '{{ "swappy" if ansible_pkg_mgr != "apt" else "curl" }}'
      - '{{ "wlogout" if ansible_pkg_mgr != "pacman" else "curl" }}'
    state: present

- name: Install wlogout on arch
  changed_when: false
  ansible.builtin.command: yay -S wlogout --noconfirm
  when: "ansible_pkg_mgr == 'pacman'"
